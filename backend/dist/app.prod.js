"use strict";var path=require("path"),express=require("express"),bodyParser=require("body-parser"),mongoose=require("mongoose"),recipesRoutes=require("./routes/recipes"),userRoutes=require("./routes/user"),app=express();mongoose.connect("mongodb+srv://wony:yE6AnuuySFvB07v2@cluster0-1eure.mongodb.net/test?retryWrites=true&w=majority").then(function(){console.log("connected to db! :)))")}).catch(function(){console.log("failed to connect do db! :(")}),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use("/images",express.static(path.join("backend/images"))),app.use(function(e,s,o){s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Access-Control-Allow-Headers","Origin X-Requested-With, Content-Type, Accept, Authorization"),s.setHeader("Access-Control-Allow-Methods","GET, POST, PATCH, PUT,  DELETE, OPTIONS"),o()}),app.use("/api/recipes",recipesRoutes),app.use("/api/user",userRoutes),module.exports=app;